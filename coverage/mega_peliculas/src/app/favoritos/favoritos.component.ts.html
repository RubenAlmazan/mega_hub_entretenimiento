
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for src/app/favoritos/favoritos.component.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../index.html">All files</a> / <a href="index.html">src/app/favoritos</a> favoritos.component.ts</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">70.27% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>26/37</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">33.33% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>3/9</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">93.33% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>14/15</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">67.64% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>23/34</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line medium'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a>
<a name='L27'></a><a href='#L27'>27</a>
<a name='L28'></a><a href='#L28'>28</a>
<a name='L29'></a><a href='#L29'>29</a>
<a name='L30'></a><a href='#L30'>30</a>
<a name='L31'></a><a href='#L31'>31</a>
<a name='L32'></a><a href='#L32'>32</a>
<a name='L33'></a><a href='#L33'>33</a>
<a name='L34'></a><a href='#L34'>34</a>
<a name='L35'></a><a href='#L35'>35</a>
<a name='L36'></a><a href='#L36'>36</a>
<a name='L37'></a><a href='#L37'>37</a>
<a name='L38'></a><a href='#L38'>38</a>
<a name='L39'></a><a href='#L39'>39</a>
<a name='L40'></a><a href='#L40'>40</a>
<a name='L41'></a><a href='#L41'>41</a>
<a name='L42'></a><a href='#L42'>42</a>
<a name='L43'></a><a href='#L43'>43</a>
<a name='L44'></a><a href='#L44'>44</a>
<a name='L45'></a><a href='#L45'>45</a>
<a name='L46'></a><a href='#L46'>46</a>
<a name='L47'></a><a href='#L47'>47</a>
<a name='L48'></a><a href='#L48'>48</a>
<a name='L49'></a><a href='#L49'>49</a>
<a name='L50'></a><a href='#L50'>50</a>
<a name='L51'></a><a href='#L51'>51</a>
<a name='L52'></a><a href='#L52'>52</a>
<a name='L53'></a><a href='#L53'>53</a>
<a name='L54'></a><a href='#L54'>54</a>
<a name='L55'></a><a href='#L55'>55</a>
<a name='L56'></a><a href='#L56'>56</a>
<a name='L57'></a><a href='#L57'>57</a>
<a name='L58'></a><a href='#L58'>58</a>
<a name='L59'></a><a href='#L59'>59</a>
<a name='L60'></a><a href='#L60'>60</a>
<a name='L61'></a><a href='#L61'>61</a>
<a name='L62'></a><a href='#L62'>62</a>
<a name='L63'></a><a href='#L63'>63</a>
<a name='L64'></a><a href='#L64'>64</a>
<a name='L65'></a><a href='#L65'>65</a>
<a name='L66'></a><a href='#L66'>66</a>
<a name='L67'></a><a href='#L67'>67</a>
<a name='L68'></a><a href='#L68'>68</a>
<a name='L69'></a><a href='#L69'>69</a>
<a name='L70'></a><a href='#L70'>70</a>
<a name='L71'></a><a href='#L71'>71</a>
<a name='L72'></a><a href='#L72'>72</a>
<a name='L73'></a><a href='#L73'>73</a>
<a name='L74'></a><a href='#L74'>74</a>
<a name='L75'></a><a href='#L75'>75</a>
<a name='L76'></a><a href='#L76'>76</a>
<a name='L77'></a><a href='#L77'>77</a>
<a name='L78'></a><a href='#L78'>78</a>
<a name='L79'></a><a href='#L79'>79</a>
<a name='L80'></a><a href='#L80'>80</a>
<a name='L81'></a><a href='#L81'>81</a>
<a name='L82'></a><a href='#L82'>82</a>
<a name='L83'></a><a href='#L83'>83</a>
<a name='L84'></a><a href='#L84'>84</a>
<a name='L85'></a><a href='#L85'>85</a>
<a name='L86'></a><a href='#L86'>86</a>
<a name='L87'></a><a href='#L87'>87</a>
<a name='L88'></a><a href='#L88'>88</a>
<a name='L89'></a><a href='#L89'>89</a>
<a name='L90'></a><a href='#L90'>90</a>
<a name='L91'></a><a href='#L91'>91</a>
<a name='L92'></a><a href='#L92'>92</a>
<a name='L93'></a><a href='#L93'>93</a>
<a name='L94'></a><a href='#L94'>94</a>
<a name='L95'></a><a href='#L95'>95</a>
<a name='L96'></a><a href='#L96'>96</a>
<a name='L97'></a><a href='#L97'>97</a>
<a name='L98'></a><a href='#L98'>98</a>
<a name='L99'></a><a href='#L99'>99</a>
<a name='L100'></a><a href='#L100'>100</a>
<a name='L101'></a><a href='#L101'>101</a>
<a name='L102'></a><a href='#L102'>102</a>
<a name='L103'></a><a href='#L103'>103</a>
<a name='L104'></a><a href='#L104'>104</a>
<a name='L105'></a><a href='#L105'>105</a>
<a name='L106'></a><a href='#L106'>106</a>
<a name='L107'></a><a href='#L107'>107</a></td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import { Component, OnInit } from '@angular/core';
import { PeliculaService } from '../../pelicula.service';
import { CommonModule } from '@angular/common';
import { of } from 'rxjs';
import { delay, tap, finalize } from 'rxjs/operators';
&nbsp;
@Component({
  selector: 'app-favoritos',
  standalone: true,
  imports: [CommonModule],
  templateUrl: './favoritos.component.html',
  styleUrl: './favoritos.component.css'
})
export class FavoritosComponent implements OnInit {
  constructor(private numero: PeliculaService) { }
&nbsp;
  lista: Set&lt;any&gt; = new Set();
&nbsp;
  lista_peliculas = [
    { id: 1, id_imagen: 'imagen_anillo', id_clave: 'anillo', id_div: 'texto_fav_anillo', id_des: 'descripcion_fav_anillo', id_quit: 'quitar_anillo', titulo: "El Señor de los anillos", descripcion: " AAA El Señor de los Anillos es una épica saga basada en la obra literaria de J.R.R. Tolkien. Dirigida por Peter Jackson, la trilogía sigue la odisea de un grupo diverso de personajes en su lucha contra las fuerzas oscuras de Sauron. Ambientada en el mundo ficticio de la Tierra Media, la historia abarca desde la búsqueda de un anillo mágico hasta la batalla épica por la supervivencia de la humanidad. Ofrece una mezcla de aventura, amistad, traición y heroísmo en un entorno rico en mitología y personajes memorables." },
    { id: 2, id_imagen: 'imagen_avatar', id_clave: 'avatar', id_div: 'texto_fav_avatar', id_des: 'descripcion_fav_avatar', id_quit: 'quitar_avatar', titulo: "Avatar", descripcion: " AAA Avatar es una película de ciencia ficción dirigida por James Cameron, ambientada en el exuberante mundo de Pandora en el año 2154. La historia sigue a Jake Sully, un exmarine parapléjico que, a través del programa Avatar, controla un cuerpo híbrido humano-Na'vi para infiltrarse en la comunidad indígena de Pandora. Mientras se integra en su cultura y se enamora de Neytiri, una guerrera Na'vi, Jake empieza a cuestionar las intenciones de los humanos que buscan explotar los recursos del planeta. Con innovadores efectos visuales y un potente mensaje sobre la protección ambiental y elrespeto a las culturas indígenas." },
    { id: 3, id_imagen: 'imagen_fiction', id_clave: 'fiction', id_div: 'texto_fav_fiction', id_des: 'descripcion_fav_fiction', id_quit: 'quitar_fiction', titulo: "Pulp Fiction", descripcion: " AAA Pulp Fiction es una película de culto dirigida por Quentin Tarantino, estrenada en 1994, que entrelaza varias historias de personajes del submundo criminal de Los Ángeles. Con un elenco estelar que incluye a John Travolta, Uma Thurman, Samuel L. Jackson y Bruce Willis, la película se distingue por su estructura narrativa no lineal, diálogos ingeniosos y escenas icónicas. Las tramas, que giran en torno a dos sicarios, un boxeador, la esposa de un gánster y dos delincuentes menores, se cruzan de maneras inesperadas, ofreciendo una mezcla de humor negro, violencia y redención." },
    { id: 4, id_imagen: 'imagen_inter', id_clave: 'inter', id_div: 'texto_fav_inter', id_des: 'descripcion_fav_inter', id_quit: 'quitar_inter', titulo: "Interstellar", descripcion: " AAA Interestelar es una epopeya de ciencia ficción dirigida por Christopher Nolan, estrenada en 2014, que sigue a un grupo de exploradores espaciales en una misión desesperada por salvar a la humanidad. En un futuro distópico donde la Tierra enfrenta una crisis agrícola global, Cooper, un ex piloto de la NASA, lidera una expedición a través de un agujero de gusano recientemente descubierto en busca de un nuevo hogar para la humanidad. La película explora temas profundos como el amor, la lealtad, el sacrificio y la supervivencia, mientras desafía las fronteras del espacio-tiempo y la comprensión humana. Con impresionantes efectos visuales y una narrativa emocionalmente resonante." },
    { id: 5, id_imagen: 'imagen_padrino', id_clave: 'padrino', id_div: 'texto_fav_padrino', id_des: 'descripcion_fav_padrino', id_quit: 'quitar_padrino', titulo: "El Padrino", descripcion: " AAA El Padrino es una obra maestra del cine dirigida por Francis Ford Coppola, estrenada en 1972, que narra la saga de la familia criminal Corleone en la Nueva York de los años 40 y 50. Basada en la novela de Mario Puzo, la película sigue el ascenso de Michael Corleone, interpretado por Al Pacino, de un hijo ajeno a los negocios familiares a convertirse en el implacable líder de la mafia familiar. Con una narrativa épica, personajes complejos como Don Vito Corleone, interpretado magistralmente por Marlon Brando, y un retrato inmersivo de la cultura italiana americana y el crimen organizado." }
  ];
&nbsp;
  ngOnInit(): void {
&nbsp;
    this.numero.disparador.subscribe(<span class="fstat-no" title="function not covered" >data </span>=&gt; {
<span class="cstat-no" title="statement not covered" >      if (data.origen === 'favorito') {</span>
<span class="cstat-no" title="statement not covered" >        this.agregarFavorito(data.id);</span>
      } else <span class="cstat-no" title="statement not covered" ><span class="missing-if-branch" title="if path not taken" >I</span>if (data.origen === 'borrar') {</span>
<span class="cstat-no" title="statement not covered" >        this.quitarPelicula(data.id);</span>
      }
    });
  }
&nbsp;
  agregarFavorito(id: number): void {
    alert('Su pelicula esta siendo agregada a favoritos');
    of(id).pipe(
      delay(3000), // Simula una operación asíncrona con un retraso de 1 segundo
      tap(() =&gt; {
        if (!this.lista.has(id)) {
          this.lista.add(id);
          alert('Esta pelicula se ha agregado a tus favoritos');
        }
      }),
    ).subscribe();
  }
&nbsp;
&nbsp;
  findPelicula(id: number) {
    return this.lista_peliculas.find(pelicula =&gt; pelicula.id === id);
  }
&nbsp;
  mostrarPelicula(seccion: any, id: any): void {
    let listaIdDiv = this.lista_peliculas.map(pelicula =&gt; pelicula.id_div);
&nbsp;
    //this.ocultarPelicula(id)
&nbsp;
    listaIdDiv.forEach(imagen =&gt; {
      <span class="missing-if-branch" title="if path not taken" >I</span>if (imagen === seccion) {
        var abrir = <span class="cstat-no" title="statement not covered" >document.getElementById(seccion)</span>
<span class="cstat-no" title="statement not covered" >        abrir?.classList.toggle('hidden')</span>
<span class="cstat-no" title="statement not covered" >        abrir?.scrollIntoView({ behavior: 'smooth' });</span>
      }
      else {
        var abrir = document.getElementById(imagen)
        abrir?.classList.add('hidden')
      }
    })
&nbsp;
  }
&nbsp;
  descripcionPelicula(seccion: any, id: any): void {
    let listaIdDes = this.lista_peliculas.map(pelicula =&gt; pelicula.id_des);
&nbsp;
    listaIdDes.forEach(descripcion =&gt; {
      let elemento = document.getElementById(descripcion);
      <span class="missing-if-branch" title="if path not taken" >I</span>if (descripcion === seccion) {
<span class="cstat-no" title="statement not covered" >        elemento?.classList.toggle('hidden');</span>
<span class="cstat-no" title="statement not covered" >        elemento?.scrollIntoView({ behavior: 'smooth' });</span>
&nbsp;
      } else {
        elemento?.classList.add('hidden');
      }
    });
  }
&nbsp;
  quitarPelicula(id: any): void {
&nbsp;
    of(id).pipe(
      delay(3000), // Simula una operación asíncrona con un retraso de 1 segundo
      tap(() =&gt; {
        <span class="missing-if-branch" title="if path not taken" >I</span>if (this.lista.has(id)) {
<span class="cstat-no" title="statement not covered" >          this.lista.delete(id);</span>
<span class="cstat-no" title="statement not covered" >          alert('Esta pelicula se ha eliminado de tus favoritos');</span>
        }
      }),
    ).subscribe();
  }
&nbsp;
&nbsp;
&nbsp;
&nbsp;
}
&nbsp;</pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2024-07-14T00:44:21.510Z
            </div>
        <script src="../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../sorter.js"></script>
        <script src="../../../block-navigation.js"></script>
    </body>
</html>
    